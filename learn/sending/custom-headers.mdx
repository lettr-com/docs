---
title: Custom Headers
description: "Add custom headers to your emails"
---

Email headers carry structured information about each message â€” sender, recipient, routing path, and content type. Beyond the standard headers that every email requires, you can add custom headers to embed tracking identifiers, control auto-reply behavior, enable email threading, or integrate with downstream systems that inspect headers. Lettr passes your custom headers through to the recipient's mail server unchanged.

## Adding Custom Headers

Pass a `headers` object in your send request. Each key is the header name and the value is a string:

```javascript
await lettr.emails.send({
  from: 'you@example.com',
  to: ['recipient@example.com'],
  subject: 'Email with Custom Headers',
  html: '<p>Hello!</p>',
  headers: {
    'X-Campaign-ID': 'summer-sale-2024',
    'X-Customer-ID': 'cust_123',
    'X-Priority': 'high'
  }
});
```

## Common Use Cases

### Reply-To Header

Use the dedicated `replyTo` parameter (preferred) or set the header manually to direct replies to a different address than the sender:

```javascript
await lettr.emails.send({
  from: 'noreply@example.com',
  to: ['recipient@example.com'],
  subject: 'Support Ticket Update',
  html: '<p>Your ticket has been updated.</p>',
  replyTo: 'support@example.com'
  // Or via headers:
  // headers: { 'Reply-To': 'support@example.com' }
});
```

### List-Unsubscribe Header

Adding `List-Unsubscribe` and `List-Unsubscribe-Post` headers enables one-click unsubscribe in email clients like Gmail and Apple Mail. Google and Yahoo now require these headers for bulk senders:

```javascript
await lettr.emails.send({
  from: 'newsletter@example.com',
  to: ['recipient@example.com'],
  subject: 'Weekly Newsletter',
  html: '<p>Newsletter content...</p>',
  headers: {
    'List-Unsubscribe': '<https://example.com/unsubscribe?email={{email}}>, <mailto:unsubscribe@example.com>',
    'List-Unsubscribe-Post': 'List-Unsubscribe=One-Click'
  }
});
```

### Message-ID and References (Threading)

To make a follow-up email appear in the same conversation thread as a previous message, set the `In-Reply-To` and `References` headers to the original message's `Message-ID`. Most email clients use these headers to group related messages together:

```javascript
// Original email
const original = await lettr.emails.send({
  from: 'you@example.com',
  to: ['recipient@example.com'],
  subject: 'Initial Message',
  html: '<p>Hello!</p>'
});

// Reply (will be threaded)
await lettr.emails.send({
  from: 'you@example.com',
  to: ['recipient@example.com'],
  subject: 'Re: Initial Message',
  html: '<p>Following up...</p>',
  headers: {
    'In-Reply-To': original.messageId,
    'References': original.messageId
  }
});
```

## Reserved Headers

Lettr manages certain headers automatically to ensure correct delivery, authentication, and encoding. These headers cannot be overridden through the `headers` parameter:

| Header | Why It's Reserved |
|--------|-------------------|
| `From` | Set via the `from` parameter; must match a verified domain |
| `To` | Set via the `to` parameter; controls actual delivery |
| `Subject` | Set via the `subject` parameter |
| `Date` | Set automatically to the send timestamp |
| `MIME-Version` | Required for correct MIME formatting |
| `Content-Type` | Determined by the content you provide (HTML, text, multipart) |
| `Content-Transfer-Encoding` | Determined by the message encoding |
| `DKIM-Signature` | Generated automatically using your domain's DKIM key |

## Header Naming Conventions

<Tip>
  Custom headers should start with `X-` prefix to avoid conflicts with standard email headers.
</Tip>

| Header Type | Example |
|-------------|---------|
| Custom tracking | `X-Campaign-ID`, `X-User-ID` |
| Priority | `X-Priority`, `Importance` |
| Auto-responses | `Auto-Submitted`, `X-Auto-Response-Suppress` |

## Prevent Auto-Replies

Automated emails like system notifications, alerts, and batch reports can trigger out-of-office replies and auto-responders, creating noise in your inbox. Set these headers to signal that the message was machine-generated and should not receive automatic replies:

```javascript
await lettr.emails.send({
  from: 'system@example.com',
  to: ['recipient@example.com'],
  subject: 'Automated Notification',
  html: '<p>System notification...</p>',
  headers: {
    'X-Auto-Response-Suppress': 'All',
    'Auto-Submitted': 'auto-generated'
  }
});
```

