---
title: Scheduling
description: "Schedule emails to be sent at a specific time"
---

# Scheduled Sending

Not every email should be sent the moment your code runs. Appointment reminders, time-zone-optimized delivery, drip campaigns, and business-hours notifications all benefit from scheduling emails to arrive at a specific future time. Lettr accepts a `scheduledAt` timestamp when you send an email, holds the message in a queue, and delivers it at the specified time. You can cancel or reschedule the email at any point before delivery.

## Schedule an Email

Pass an ISO 8601 timestamp in the `scheduledAt` parameter. Lettr queues the email and delivers it at the specified time:

```javascript
await lettr.emails.send({
  from: 'you@example.com',
  to: ['recipient@example.com'],
  subject: 'Scheduled Reminder',
  html: '<p>This is your scheduled reminder!</p>',
  scheduledAt: '2024-12-25T09:00:00Z'
});
```

## Response

Scheduled emails return a `scheduled` status:

```json
{
  "success": true,
  "message": "Email scheduled for delivery.",
  "data": {
    "request_id": "7582751837467401763",
    "status": "scheduled",
    "scheduledAt": "2024-12-25T09:00:00Z"
  }
}
```

## Cancel a Scheduled Email

If conditions change before the scheduled delivery time — the user cancels their appointment, the order is refunded, or the campaign is paused — you can cancel the email to prevent it from being sent:

```javascript
await lettr.emails.cancel('email_123abc');
```

## Reschedule an Email

To change the delivery time of a scheduled email without cancelling and re-creating it, update the `scheduledAt` field:

```javascript
await lettr.emails.update('email_123abc', {
  scheduledAt: '2024-12-26T09:00:00Z'
});
```

## Timezone Handling

Lettr expects all scheduled times in UTC. If your application stores times in local timezones, convert them to UTC before passing to the API. Always include the `Z` suffix (or `+00:00` offset) to make the timezone explicit:

```javascript
// Convert local time to UTC
const localDate = new Date('2024-12-25T09:00:00');
const utcString = localDate.toISOString();

await lettr.emails.send({
  from: 'you@example.com',
  to: ['recipient@example.com'],
  subject: 'Reminder',
  html: '<p>Your reminder!</p>',
  scheduledAt: utcString
});
```

## Scheduling Limits

| Limit | Value |
|-------|-------|
| Maximum schedule time | 30 days in advance |
| Minimum schedule time | 1 minute from now |

<Note>
  Emails scheduled more than 30 days in advance will be rejected. For longer delays, consider using a job scheduler in your application.
</Note>

## Use Cases

<CardGroup cols={2}>
  <Card title="Time-Zone Optimized Delivery" icon="clock">
    Send emails when recipients are most likely to read them.
  </Card>
  <Card title="Drip Campaigns" icon="droplet">
    Schedule a series of emails over time.
  </Card>
  <Card title="Event Reminders" icon="calendar">
    Send reminders before appointments or events.
  </Card>
  <Card title="Business Hours Delivery" icon="building">
    Ensure emails arrive during work hours.
  </Card>
</CardGroup>

## Example: Send at Recipient's Local Time

```javascript
// Schedule for 9 AM in different timezones
const recipients = [
  { email: 'user1@example.com', timezone: 'America/New_York' },
  { email: 'user2@example.com', timezone: 'Europe/London' },
  { email: 'user3@example.com', timezone: 'Asia/Tokyo' }
];

for (const recipient of recipients) {
  // Calculate 9 AM in recipient's timezone
  const scheduledTime = getNextNineAM(recipient.timezone);

  await lettr.emails.send({
    from: 'you@example.com',
    to: [recipient.email],
    subject: 'Good Morning!',
    html: '<p>Start your day with this update.</p>',
    scheduledAt: scheduledTime.toISOString()
  });
}
```
