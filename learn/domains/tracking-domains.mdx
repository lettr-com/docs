---
title: Tracking Domains
description: "Set up custom domains for click and open tracking in your emails"
---

# Tracking Domains

Tracking domains let you use your own domain for click and open tracking links instead of Lettr's default. Lettr uses **SSL for all tracking** and **automatically provisions and renews SSL certificates** for your tracking domain—HTTPS is important for deliverability and is set up for you once you add the required DNS records.

## What is Email Tracking?

Lettr can track two types of email engagement:

| Type | How It Works | What You Learn |
|------|--------------|----------------|
| **Click Tracking** | Links are rewritten to go through a tracking server | Which links recipients clicked |
| **Open Tracking** | A tiny invisible image is embedded in the email | When and how often emails are opened |

## Default vs Custom Tracking

| Type | Example URL |
|------|-------------|
| Default Click | `https://track.lettr.dev/c/abc123` |
| Custom Click | `https://links.example.com/c/abc123` |
| Default Open | `https://track.lettr.dev/o/xyz789` |
| Custom Open | `https://links.example.com/o/xyz789` |

## Why Use Custom Tracking Domains?

Custom tracking domains provide several benefits:

- **Brand Consistency** - All links show your domain, not Lettr's
- **Improved Deliverability** - First-party HTTPS tracking domains are trusted more by filters; Lettr automatically provisions SSL for your domain so links are always served over HTTPS
- **User Trust** - Recipients see familiar domains when hovering over links
- **Professional Appearance** - Consistent branding across all email elements
- **Bypasses Link Blockers** - Some security tools block known tracking domains

## Setup Custom Tracking Domain

<Steps>
  <Step title="Add domain in Dashboard">
    Go to **Domains → Tracking Domains** and click **+ New Tracking Domain**. Enter your subdomain (e.g. `links.example.com`, `click.example.com`).
  </Step>
  <Step title="Add two CNAME records">
    In your DNS provider, add both CNAME records shown in the dashboard: **CNAME (SSL)** and **CNAME (Proxy)**. Copy the exact NAME and VALUE from the dashboard for each.
  </Step>
  <Step title="Verify Domain">
    Click **Verify** in the dashboard. After DNS propagates, Lettr automatically provisions an SSL certificate for your domain. Tracking will then use your custom domain over HTTPS.
  </Step>
</Steps>

## DNS Configuration

You need **two CNAME records** for each tracking domain. The exact values are shown in the dashboard when you add the domain; add both to your DNS.

### CNAME Record (SSL)

Enables **automatic SSL certificate issuance and renewal** for your tracking domain. All tracking links are served over HTTPS, which is important for deliverability and recipient trust.

| Field | Example | Where to get it |
|-------|---------|-----------------|
| **NAME** | `_acme-challenge.links.example.com` | Shown in dashboard (copy from **CNAME Record (SSL)**) |
| **VALUE** | (DCV target, e.g. `links.example.com.xxxxx.dcv.cloudflare.com`) | Shown in dashboard |

Without this record, Lettr cannot issue or renew the SSL certificate for your domain.

### CNAME Record (Proxy)

Routes your tracking domain's traffic through Lettr's secure proxy so clicks and opens are logged correctly.

| Field | Example | Where to get it |
|-------|---------|-----------------|
| **NAME** | `links` (or your subdomain label) | Your tracking subdomain |
| **VALUE** | `proxy.lettr-tracking.com` | Shown in dashboard (copy from **CNAME Record (Proxy)**) |

<Info>
  **SSL and deliverability:** Lettr provisions and renews SSL certificates for your tracking domain automatically. Tracking links are always served over HTTPS, which helps with spam filters and deliverability. Complete both CNAME records so SSL can be activated.
</Info>

## Via API

```javascript
// Create tracking domain
const domain = await lettr.domains.create({
  name: 'links.example.com',
  type: 'tracking'
});

// Response includes DNS records to add: CNAME (SSL) and CNAME (Proxy)
console.log(domain.dnsRecords);
```

### Associate with Sending Domain

Link your tracking domain to a sending domain:

```javascript
await lettr.domains.update('dom_sending_123', {
  trackingDomain: 'links.example.com'
});
```

## SSL and Deliverability

Lettr uses SSL for all tracking and **automatically provisions and renews** SSL certificates for your custom tracking domain. You do not need to buy or upload certificates—once both CNAME records (SSL and Proxy) are in place and verified, Lettr issues and renews the certificate.

**Why this matters for deliverability:** Tracking links served over HTTPS from your own domain are trusted more by spam filters and look correct to recipients. Insecure or third-party tracking URLs can hurt deliverability. With automatic SSL, your tracking domain is always HTTPS and aligned with best practices.

<Info>
  SSL provisioning usually finishes within a few minutes after DNS verification. Until then, tracking may use Lettr's default domain. Check the domain status in the dashboard for SSL state.
</Info>

## Using Custom Tracking

Once configured, all tracking links automatically use your custom domain:

### Click Tracking

```javascript
await lettr.emails.send({
  from: 'news@example.com',
  to: ['subscriber@example.com'],
  subject: 'Check out our new features',
  html: `
    <p>We've just launched exciting new features!</p>
    <a href="https://example.com/features">Learn More</a>
  `,
  tracking: {
    clicks: true
  }
});

// The link in the email becomes:
// https://links.example.com/c/abc123
// Which redirects to: https://example.com/features
```

### Open Tracking

```javascript
await lettr.emails.send({
  from: 'news@example.com',
  to: ['subscriber@example.com'],
  subject: 'Weekly Newsletter',
  html: '<p>This week\'s updates...</p>',
  tracking: {
    opens: true
  }
});

// A tracking pixel is added:
// <img src="https://links.example.com/o/xyz789" width="1" height="1" />
```

### Enable Both

```javascript
await lettr.emails.send({
  from: 'news@example.com',
  to: ['subscriber@example.com'],
  subject: 'Newsletter',
  html: '<p>Content with <a href="https://example.com">links</a></p>',
  tracking: {
    clicks: true,
    opens: true
  }
});
```

## Tracking Settings

### Domain-Level Defaults

Set default tracking behavior for all emails from a domain:

```javascript
await lettr.domains.update('dom_123', {
  defaultTracking: {
    clicks: true,
    opens: false  // Disable open tracking by default
  }
});
```

### Per-Email Override

Override domain defaults for individual emails:

```javascript
await lettr.emails.send({
  from: 'support@example.com',
  to: ['customer@example.com'],
  subject: 'Password Reset',
  html: '<p>Click <a href="https://example.com/reset">here</a> to reset...</p>',
  tracking: {
    clicks: false,  // Disable for this sensitive email
    opens: false
  }
});
```

<Tip>
  For sensitive transactional emails (password resets, security alerts), consider disabling tracking to improve deliverability and user trust.
</Tip>

## How Click Tracking Works

When click tracking is enabled:

1. Lettr scans your HTML for `<a href="...">` links
2. Each link is replaced with a tracking URL that includes a unique identifier
3. When a recipient clicks, they hit your tracking domain first
4. Lettr logs the click event and immediately redirects to the original URL
5. The redirect is fast (typically &lt;50ms) and transparent to users

### Excluded Links

Some links are automatically excluded from tracking:

- `mailto:` links
- `tel:` links
- Anchor links (`#section`)
- Links with `data-no-track` attribute

```html
<!-- This link won't be tracked -->
<a href="https://example.com" data-no-track>Untracked Link</a>
```

## How Open Tracking Works

When open tracking is enabled:

1. Lettr adds a 1x1 transparent pixel image at the end of your email
2. When the email is opened and images are loaded, the pixel is requested
3. Lettr logs the open event with timestamp and metadata

### Limitations

Open tracking has inherent limitations:

| Limitation | Description |
|------------|-------------|
| Image blocking | Many email clients block images by default |
| Prefetching | Some clients prefetch images, logging false opens |
| Plain text | Only works in HTML emails |
| Privacy features | Apple Mail Privacy Protection hides opens |

## Verify Setup

Send a test email and verify tracking is working:

```javascript
// Send test email
const email = await lettr.emails.send({
  from: 'test@example.com',
  to: ['your-email@example.com'],
  subject: 'Tracking Test',
  html: '<p>Click <a href="https://example.com">this link</a></p>',
  tracking: { clicks: true, opens: true }
});

// Wait for engagement, then check events
const events = await lettr.emails.getEvents(email.id);

for (const event of events) {
  console.log(`${event.type}: ${event.timestamp}`);
}
// Output:
// email.delivered: 2024-01-15T10:00:00Z
// email.opened: 2024-01-15T10:05:00Z
// email.clicked: 2024-01-15T10:05:30Z
```

## Multiple Tracking Domains

You can use different tracking domains for different purposes:

| Domain | Associated Sending Domain | Use Case |
|--------|--------------------------|----------|
| `links.example.com` | `example.com` | Main website |
| `go.product.com` | `mail.product.com` | Product emails |
| `track.newsletter.com` | `newsletter.com` | Marketing |

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Links not being tracked | Verify `tracking.clicks` is `true` in send options |
| SSL errors | Wait for SSL provisioning to complete |
| Old links using default domain | Only new emails use the custom tracking domain |
| Tracking domain not verifying | Add both CNAME records (SSL and Proxy) and use the exact NAME/VALUE from the dashboard |

<Warning>
  Changing your tracking domain won't affect previously sent emails. Only new emails will use the updated tracking domain.
</Warning>

## Next Steps

<CardGroup cols={2}>
  <Card title="Storage Domains" icon="image" href="/learn/domains/storage-domains">
    Host email images on your domain
  </Card>
  <Card title="Analytics" icon="chart-bar" href="/learn/sending/analytics">
    Understand your email analytics
  </Card>
</CardGroup>
