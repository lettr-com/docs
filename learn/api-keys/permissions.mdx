---
title: Permissions
description: "Configure API key permissions to control access to Lettr API resources"
---

When creating an API key, you can assign a permission level to indicate the intended scope of access. Lettr supports two permission levels: **Full Access** and **Sending Only**.

<Info>
  Permission-level enforcement is currently in development. At this time, both permission levels grant the same access to all API endpoints. We recommend selecting **Full Access** for now. You can change the permission level on any key at any time, so once enforcement is rolled out your keys will automatically respect the assigned level.
</Info>

## Permission Levels

### Full Access

Full Access keys are intended for complete access to all API endpoints and operations:

- Send emails via API
- List and retrieve sent email details
- Access and manage email templates
- Create, verify, and delete sending domains
- Configure and manage webhooks

**Use Full Access keys for:**
- Backend services that need complete platform control
- Administrative tools and dashboards
- CI/CD pipelines that manage domains and templates
- Internal tools requiring access to all resources

### Sending Only

Once enforcement is implemented, Sending Only keys will be restricted to email sending operations only.

**Use Sending Only keys for:**
- Production applications that only send transactional emails
- Third-party integrations that don't need administrative access
- Services where you want to limit the blast radius of a potential key compromise

## Creating Keys with Specific Permissions

### Via the Dashboard

1. Navigate to **Settings** > **API Keys**
2. Click **Create API Key**
3. Enter a descriptive name
4. Select the permission level:
   - **Full Access** - Complete access to all endpoints (recommended for now)
   - **Sending Only** - Intended for email sending only (enforcement coming soon)
5. Configure optional IP restrictions
6. Click **Create**

## IP Restrictions

In addition to permission levels, you can further secure your API keys by restricting them to specific IP addresses. This provides defense in depth â€” even if a key is compromised, it cannot be used from unauthorized locations.

### Configuring IP Restrictions

When creating or editing an API key, you can specify allowed IP addresses in the **Allowed IPs** field:

```
203.0.113.50, 198.51.100.0/24, 10.0.0.1
```

### Supported Formats

| Format | Example | Description |
|--------|---------|-------------|
| Single IP | `203.0.113.50` | Allow a single IP address |
| CIDR notation | `198.51.100.0/24` | Allow a range of 256 IPs (198.51.100.0 - 198.51.100.255) |
| Multiple entries | `10.0.0.1, 10.0.0.2` | Comma-separated list of IPs or ranges |

### CIDR Notation Reference

| CIDR | IP Range Size | Example |
|------|--------------|---------|
| `/32` | 1 IP | Single host |
| `/24` | 256 IPs | 10.0.0.0 - 10.0.0.255 |
| `/16` | 65,536 IPs | 10.0.0.0 - 10.0.255.255 |
| `/8` | 16,777,216 IPs | 10.0.0.0 - 10.255.255.255 |

<Note>
  If no IP restrictions are configured, the API key can be used from any IP address. We recommend configuring IP restrictions for production keys.
</Note>

### IP Restriction Errors

When a request is made from a non-whitelisted IP:

```json
{
  "message": "Access denied. Your IP address is not allowed."
}
```

**HTTP Status**: `403 Forbidden`

## Updating Key Permissions

You can change the permission level of an existing API key at any time:

1. Navigate to **Settings** > **API Keys**
2. Click the actions menu (three dots) next to the key
3. Select **Edit**
4. Update the permission level
5. Click **Save**

<Note>
  Since permission enforcement is not yet active, changing the permission level has no immediate effect on API access. However, we recommend setting the intended permission level now so your keys are correctly configured when enforcement is enabled.
</Note>

## Security Recommendations

<AccordionGroup>
  <Accordion title="Create separate keys for different environments">
    Use different API keys for development, staging, and production environments. This allows you to revoke keys independently and track usage per environment.

    ```
    Production Web Server - Full Access
    Staging Environment - Full Access
    Development - Full Access
    CI/CD Pipeline - Full Access
    ```
  </Accordion>
  <Accordion title="Use IP restrictions for production keys">
    For maximum security, restrict production API keys to your server's IP addresses or IP ranges. This adds a layer of protection even if a key is compromised.
  </Accordion>
  <Accordion title="Audit key usage regularly">
    Review which keys are being used and their access patterns. Revoke any keys that are no longer needed or show suspicious activity.
  </Accordion>
  <Accordion title="Document key purposes">
    Use descriptive names that clearly indicate each key's purpose, environment, and owner. This makes it easier to manage keys over time.
  </Accordion>
</AccordionGroup>

## Managing Multiple Keys

For larger organizations or complex deployments, consider creating separate keys for:

| Purpose | IP Restrictions |
|---------|-----------------|
| Production email sending | Production server IPs |
| Admin dashboard | Office IP range |
| CI/CD pipeline | CI service IPs |
| Monitoring service | Monitoring service IPs |
| Development testing | None (or developer IPs) |

This approach provides:
- **Isolation**: Compromise of one key doesn't affect others
- **Traceability**: Clear audit trail of which system performed which action
- **Flexibility**: Independent rotation and revocation schedules

## Next Steps

<CardGroup cols={2}>
  <Card title="API Keys Introduction" icon="key" href="/learn/api-keys/introduction">
    Learn how to create and manage API keys
  </Card>
  <Card title="Sending Emails" icon="paper-plane" href="/learn/sending/introduction">
    Start sending emails with your API key
  </Card>
</CardGroup>
