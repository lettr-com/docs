---
title: "Gandi"
description: "Step-by-step guide to configuring DNS records for Lettr on Gandi."
---

This guide walks you through adding the required DNS records for Lettr using Gandi's DNS management. Gandi is a domain registrar that offers DNS hosting through its [LiveDNS interface](https://admin.gandi.net).

You will configure a **sending domain** (CNAME, DKIM TXT, and DMARC TXT records) and, optionally, an **inbound domain** (MX records), **tracking domain** (two CNAME records), and **storage domain** (CNAME and two TXT records).

---

## Sending Domain Setup

A sending domain authenticates your outgoing emails with DKIM and DMARC, ensuring they are delivered reliably and not marked as spam. This requires a CNAME record for domain verification, a TXT record for DKIM signing, and a TXT record for DMARC policy.

To create a sending domain in Lettr:
1. Select **Domains** in the navigation panel
2. Select **Sending Domains**
3. Click **Create Sending Domain**
4. Enter your desired sending subdomain (e.g. `mailing.company.com`)
5. Click **Create Domain**

<Tip>
  Use a subdomain (e.g. `mailing.company.com`) instead of the root domain (`company.com`). A subdomain provides proper
  reputation segmentation and is required if you also plan to receive emails with Lettr.
</Tip>

Click your new domain in the Sending Domains list. This will display a list of DNS records that need to be configured. Keep this page open — you will need these values soon.

### Configure Gandi DNS

Log in to your [Gandi account](https://admin.gandi.net) and click **Domain** in the left sidebar. Select the domain you want to configure, then click the **DNS Records** tab at the top of the domain settings page.

<Tip>
  If your domain was registered through Gandi or your nameservers already point to Gandi LiveDNS, skip nameserver
  configuration entirely — proceed directly to adding the DNS records below.
</Tip>

<AccordionGroup>
  <Accordion title="Domain registered with a different registrar?">
    If you registered your domain elsewhere but want to manage DNS on Gandi, you must first **update the nameservers**
    at your registrar to Gandi's LiveDNS nameservers. Gandi assigns unique LiveDNS nameservers per domain in the format
    `ns-{numbers}-{letters}.gandi.net`. You can find your domain's specific nameservers under the **Nameservers** tab
    in your Gandi domain settings.

    <Warning>Until the nameservers are updated at your registrar, any records you add in Gandi will not resolve.</Warning>
  </Accordion>
</AccordionGroup>

### Add CNAME Record

The CNAME record verifies domain ownership with Lettr's email infrastructure.

Copy the CNAME values from Lettr to Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **CNAME**.
3. Set **Name** to the **Hostname** value from Lettr (without your domain suffix). For example, paste only `mailing`.
4. Set **Hostname** to the **Value** from Lettr, ensuring it ends with a trailing period (e.g. `sparkpostmail.com.`).
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

<Info>
  Gandi requires a trailing period on CNAME target values. When pasting the value from Lettr into the **Hostname**
  field, ensure it ends with a period (e.g. `sparkpostmail.com.`). Without it, Gandi will append your domain to the
  target, producing an incorrect address.
</Info>

### Add TXT Record (DKIM)

The DKIM record adds a cryptographic signature to your outgoing emails, allowing recipients to verify they were sent by an authorized sender.

Copy the TXT values from Lettr to Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **TXT**.
3. Set **Name** to the **Hostname** value from Lettr (without your domain suffix). For example, paste only `scph0126._domainkey.mailing`.
4. Set **Text Value** to the **Value** from Lettr.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

<Info>
  The DKIM value is a long string that may exceed 255 characters. Gandi's interface accepts the value as a single
  string for standard records. If the interface requires chunking for very long values, split the value into 255-character
  segments and wrap each in double quotes adjacent to one another: `"first255chars""next255chars"`.
</Info>

### Add TXT Record (DMARC)

The DMARC record tells receiving mail servers how to handle emails that fail authentication checks, protecting your domain from spoofing.

Copy the TXT values from Lettr to Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **TXT**.
3. Set **Name** to the **Hostname** value from Lettr (without your domain suffix). For example, paste only `_dmarc.mailing`.
4. Set **Text Value** to the **Value** from Lettr (e.g. `v=DMARC1; p=none;`).
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Verify Your Sending Domain

After adding all three DNS records, go back to Lettr and click **Verify DNS Records**. DNS propagation can take up to 24–48 hours, though it typically completes within a few hours with Gandi LiveDNS.

---

## Inbound Domain Setup

An inbound domain allows Lettr to receive emails on your behalf. This requires three MX records that direct incoming mail to Lettr's mail servers.

### Add Inbound Domain to Lettr

To create an Inbound domain in Lettr:
1. Select **Domains** in the navigation panel
2. Select **Inbound Domains**
3. Click **Create Inbound Domain**
4. Enter your desired inbound subdomain (e.g. `inbound.company.com`)
5. Click **Create Domain**.

Click on your new domain in the Inbound Domains list. This will display the MX records that need to be configured.

### Add MX Records

MX records tell other mail servers where to deliver emails addressed to your domain.

Copy the MX values from Lettr to Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **MX**.
3. Set **Name** to the **Hostname** value from Lettr (without your domain suffix). For example, paste only `inbound`.
4. Set **Hostname** to `rx1.sparkpostmail.com.` (with a trailing period).
5. Set **Priority** to `10`.
6. Leave **TTL** at the default (**10800**).
7. Click **Create**.
8. Repeat this process for the second (`rx2.sparkpostmail.com.`) and third (`rx3.sparkpostmail.com.`) MX records, each with priority `10`.

<Info>
  Gandi requires a trailing period on MX target hostnames. Enter each mail server address with a trailing period
  (e.g. `rx1.sparkpostmail.com.`) to ensure the record resolves correctly.
</Info>

<Warning>
  Adding MX records to a domain or subdomain will route all incoming email for that address to Lettr. Use a dedicated
  subdomain (e.g. `inbound.company.com`) to avoid affecting your primary email.
</Warning>

### Verify Your Inbound Domain

After adding all three MX records, go back to Lettr and click **Verify DNS Records**. DNS propagation can take up to 24–48 hours, though it typically completes within a few hours.

---

## Tracking Domain Setup

A tracking domain allows Lettr to track email opens and link clicks using your own custom domain instead of the default Lettr tracking domain. This requires two CNAME records: one for the SSL certificate and one for routing tracking traffic to Lettr's infrastructure.

### Add Tracking Domain to Lettr

To create a Tracking domain in Lettr:
1. Select **Domains** in the navigation panel
2. Select **Tracking Domains**
3. Click **Create Tracking Domain**
4. Enter your desired tracking subdomain (e.g. `tracking.company.com`)
5. Click **Create Domain**

Click on your new domain in the Tracking Domains list. This will display the CNAME records that need to be configured.

### Add SSL Certificate CNAME Record

The SSL Certificate CNAME record provisions an SSL certificate for your custom tracking domain, enabling secure HTTPS connections for tracked links.

Add the record in Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **CNAME**.
3. Set **Name** to the **Hostname** from Lettr (without your domain suffix).
4. Set **Hostname** to the **Value** from Lettr, ensuring it ends with a trailing period.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Add Traffic CNAME Record

The Traffic CNAME record routes click and open tracking requests from your custom domain to Lettr's tracking servers.

Add the record in Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **CNAME**.
3. Set **Name** to the **Hostname** from Lettr (without your domain suffix).
4. Set **Hostname** to the **Value** from Lettr, ensuring it ends with a trailing period.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Verify Your Tracking Domain

After adding both CNAME records, go back to Lettr and click **Verify DNS Records**.

---

## Storage Domain Setup

A storage domain lets you serve email assets (images, attachments) from your own custom domain instead of the default Lettr storage URL. This requires two TXT records for certificate validation and ownership verification, and a CNAME record for routing asset requests to Lettr's storage infrastructure.

### Add Storage Domain to Lettr

To create a Storage domain in Lettr:
1. Select **Domains** in the navigation panel
2. Select **Storage Domains**
3. Click **Create Storage Domain**
4. Enter your desired storage subdomain (e.g. `assets.company.com`)
5. Click **Create Domain**

Click on your new domain in the Storage Domains list. This will display the TXT and CNAME records that need to be configured.

### Add TXT Record (Certificate Validation)

The Certificate Validation TXT record provisions an SSL certificate for your custom storage domain, enabling secure HTTPS delivery of email assets.

Add the record in Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **TXT**.
3. Set **Name** to the **Hostname** from Lettr (without your domain suffix).
4. Set **Text Value** to the **Value** from Lettr.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Add TXT Record (Hostname Pre-validation)

The Hostname Pre-validation TXT record verifies ownership of the storage domain before Lettr provisions a custom hostname for it.

Add the record in Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **TXT**.
3. Set **Name** to the **Hostname** from Lettr (without your domain suffix).
4. Set **Text Value** to the **Value** from Lettr.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Add CNAME Record (Domain Routing)

The Domain Routing CNAME record routes asset requests from your custom domain to Lettr's storage infrastructure.

Add the record in Gandi:

1. Click the green **Add** button above the DNS records table.
2. Set **Type** to **CNAME**.
3. Set **Name** to the **Hostname** from Lettr (without your domain suffix).
4. Set **Hostname** to the **Value** from Lettr, ensuring it ends with a trailing period.
5. Leave **TTL** at the default (**10800**).
6. Click **Create**.

### Verify Your Storage Domain

After adding all three records, go back to Lettr and click **Verify DNS Records**.

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Missing Trailing Period on CNAME or MX Target">
    The most common mistake when adding records in Gandi is omitting the trailing period from CNAME and MX target
    values. Without it, Gandi appends your domain name to the target, resulting in an incorrect address (e.g.
    `sparkpostmail.com.company.com` instead of `sparkpostmail.com`).

    Always ensure the **Hostname** field for CNAME and MX records ends with a period:
    - Sending verification CNAME: `sparkpostmail.com.`
    - Inbound MX records: `rx1.sparkpostmail.com.`, `rx2.sparkpostmail.com.`, `rx3.sparkpostmail.com.`
    - Tracking and storage CNAME targets: append `.` to the end of the value from Lettr

    To fix an existing record, click the **pencil icon** to the right of the record, correct the **Hostname** field,
    and click **Update**.
  </Accordion>
  <Accordion title="Records Not Propagating">
    Gandi LiveDNS applies changes within milliseconds to its own servers, but external resolvers that have cached
    previous records can take longer to refresh. Propagation typically completes within a few hours but can take up
    to 72 hours in some regions.

    If verification fails after adding records, check the following:

    - **Wait at least 1–2 hours** before your first verification attempt.
    - **Confirm the records exist** using command-line tools:

    ```bash
    # Check CNAME record
    dig CNAME mailing.yourdomain.com +short

    # Check DKIM record
    dig TXT scph0126._domainkey.mailing.yourdomain.com +short

    # Check DMARC record
    dig TXT _dmarc.mailing.yourdomain.com +short

    # Check MX records (inbound)
    dig MX inbound.yourdomain.com +short

    # Check tracking domain CNAME
    dig CNAME track.yourdomain.com +short

    # Check storage domain CNAME
    dig CNAME assets.yourdomain.com +short
    ```

    - **Use a web tool** like [WhatsMyDNS](https://www.whatsmydns.net) or [dnschecker.org](https://dnschecker.org)
    to verify propagation across multiple DNS servers worldwide.
  </Accordion>
  <Accordion title="Nameservers Not Pointing to Gandi">
    If your records are saved in Gandi but not resolving, confirm that your domain registrar is pointing to Gandi's
    LiveDNS nameservers. You can check this with:

    ```bash
    dig NS yourdomain.com +short
    ```

    The output should include Gandi's LiveDNS nameservers (in the format `ns-{numbers}-{letters}.gandi.net`). You
    can find your domain's exact assigned nameservers under the **Nameservers** tab in your Gandi domain settings.

    If the output shows a different provider's nameservers, update them at your domain registrar. Nameserver changes
    can take 4–72 hours to propagate globally.
  </Accordion>
  <Accordion title="CNAME at Root Domain Not Supported">
    Gandi does not support CNAME records at the apex of a domain (e.g. `company.com`). The **Name** field does not
    accept `@` for CNAME records — only subdomains work. This is a DNS protocol constraint: CNAME records cannot
    coexist with other record types (like SOA or NS) that are required at the root.

    Always use a subdomain for your sending, tracking, and storage domains (e.g. `mailing.company.com`). If you need
    to point your bare domain to another hostname, Gandi offers an **ALIAS** record type for that purpose.

    If Gandi shows a conflict error when adding a CNAME, check whether an existing A or CNAME record is already
    present for that subdomain and remove it first.
  </Accordion>
  <Accordion title="Wrong Record Type">
    A common mistake is selecting the wrong type from the **Type** dropdown when clicking **Add**:

    | Record | Correct Type |
    |--------|-------------|
    | Sending verification | CNAME |
    | DKIM | TXT |
    | DMARC | TXT |
    | Inbound mail | MX |
    | Tracking SSL certificate | CNAME |
    | Tracking traffic | CNAME |
    | Storage certificate validation | TXT |
    | Storage hostname pre-validation | TXT |
    | Storage domain routing | CNAME |
  </Accordion>
  <Accordion title="DKIM Value Truncated or Chunked">
    The DKIM TXT value is a long string that often exceeds 255 characters. After saving the record, click the
    **pencil icon** to re-open it and confirm the full value was stored. If it appears truncated, delete the record
    and re-add it.

    If Gandi's interface requires chunking for values longer than 255 characters, split the DKIM value into
    255-character segments and wrap each in double quotes directly adjacent: `"first255chars""next255chars"`. Paste
    this combined string into the **Text Value** field.
  </Accordion>
  <Accordion title="When to Contact Support">
    If your DNS records are correctly configured (confirmed with `dig` or dnschecker.org) and verification still
    fails after 48 hours, contact Lettr support at **support@lettr.com** or through the in-app chat. Include your
    domain name and the output of the `dig` commands above.
  </Accordion>
</AccordionGroup>

---

## Related Topics

<CardGroup cols={2}>
  <Card title="Sending Domains" icon="paper-plane" href="/learn/domains/sending-domains">
    Learn about sending domain setup, SPF, DKIM, and DMARC.
  </Card>
  <Card title="Inbound Domains" icon="inbox" href="/learn/domains/inbound-domains">
    Configure MX records to receive emails with Lettr.
  </Card>
  <Card title="Tracking Domains" icon="link" href="/learn/domains/tracking-domains">
    Set up a custom tracking domain for click and open tracking.
  </Card>
  <Card title="Storage Domains" icon="hard-drive" href="/learn/domains/storage-domains">
    Serve email assets from your own custom domain.
  </Card>
  <Card title="Domains Overview" icon="globe" href="/learn/domains/introduction">
    Understand domain types and how they work in Lettr.
  </Card>
  <Card
    title="Domain Verification Failures"
    icon="circle-exclamation"
    href="/knowledge-base/troubleshooting/domain-verification">
    Troubleshoot common DNS configuration and propagation issues.
  </Card>
</CardGroup>
