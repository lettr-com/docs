---
title: Send emails with Rust
description: "Send your first email using the Lettr Rust SDK"
---

# Send emails with Rust

Learn how to send your first email using the Lettr Rust SDK.

## Prerequisites

To get the most out of this guide, you'll need to:

<CardGroup cols={2}>
  <Card title="API Key" icon="key" href="https://app.lettr.com/api-keys">
    Create an API key in the Lettr dashboard
  </Card>
  <Card title="Verified Domain" icon="globe" href="/learn/domains/sending-domains">
    Add and verify your sending domain
  </Card>
</CardGroup>

## 1. Install

Create a Rust project and add the Lettr crate and Tokio (the SDK is async-first):

```bash
cargo init lettr-rust-example
cd lettr-rust-example
```

```bash
cargo add lettr
cargo add tokio -F macros,rt-multi-thread
```

## 2. Send email using HTML

The easiest way to send an email is by using the `with_html` builder method.

```rust
use lettr::{Lettr, CreateEmailOptions};

#[tokio::main]
async fn main() -> lettr::Result<()> {
    let client = Lettr::new("your-api-key");

    let email = CreateEmailOptions::new(
        "Acme <onboarding@yourdomain.com>",
        ["delivered@example.com"],
        "Hello from Lettr",
    )
    .with_html("<strong>hello world</strong>");

    let response = client.emails.send(email).await?;
    println!("Email sent! Request ID: {}", response.request_id);

    Ok(())
}
```

## 3. Send with more options

Add plain text, reply-to, and tracking:

```rust
let email = CreateEmailOptions::new(
    "onboarding@yourdomain.com",
    ["delivered@example.com"],
    "Welcome!",
)
.with_from_name("Acme")
.with_html("<h1>Hello!</h1><p>Thanks for signing up.</p>")
.with_text("Hello!\n\nThanks for signing up.")
.with_reply_to("support@example.com")
.with_click_tracking(true)
.with_open_tracking(true);

client.emails.send(email).await?;
```

## 4. Configuration

### Environment variable

Read the API key from the `LETTR_API_KEY` environment variable:

```rust
let client = lettr::Lettr::from_env();
```

### Reading from a `.env` file

Use the [`dotenvy`](https://crates.io/crates/dotenvy) crate to load a `.env` file:

```bash
cargo add dotenvy
```

```rust
use dotenvy::dotenv;

fn main() -> lettr::Result<()> {
    let _ = dotenv().ok();
    let client = lettr::Lettr::from_env();
    // ...
}
```

## 5. Try it yourself

<Card title="Rust SDK on GitHub" icon="arrow-up-right-from-square" href="https://github.com/lettr-com/lettr-rust">
  View the full source and examples.
</Card>

## What's next

<CardGroup cols={2}>
  <Card title="Templates" icon="file-code" href="/api-reference/emails/send-email">
    Send with template slugs and substitutions
  </Card>
  <Card title="API Reference" icon="book" href="/api-reference/introduction">
    Complete Lettr API documentation
  </Card>
</CardGroup>
