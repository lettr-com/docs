---
title: Send emails with Symfony
description: "Send your first email using the Lettr Symfony Mailer bridge"
---

# Send emails with Symfony

Learn how to send your first email using the Lettr Symfony Mailer bridge.

## Prerequisites

To get the most out of this guide, you will need to:

<CardGroup cols={2}>
  <Card title="API Key" icon="key" href="https://app.lettr.com/api-keys">
    Create an API key in the Lettr dashboard
  </Card>
  <Card title="Verified Domain" icon="globe" href="/learn/domains/sending-domains">
    Add and verify your sending domain
  </Card>
</CardGroup>

## 1. Install

Install the Lettr Symfony bundle via Composer:

```bash
composer require lettr/lettr-symfony
```

## 2. Configure the Mailer

In your `.env.local` (create it if needed), add your Lettr API key:

```env
LETTR_API_KEY=your-api-key
```

The bundle registers a Lettr transport with Symfony Mailer. If the bundle exposes a DSN, you can alternatively set:

```env
MAILER_DSN=lettr+api://%env(LETTR_API_KEY)%@default
```

Otherwise ensure the bundle is configured in `config/packages/lettr.yaml`:

```yaml
lettr:
    api_key: '%env(LETTR_API_KEY)%'
```

## 3. Send your first email

In a controller, inject the `MailerInterface` and send an email using Symfony's `Email` class:

```php
<?php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Mailer\MailerInterface;
use Symfony\Component\Mime\Email;

class EmailController extends AbstractController
{
    public function __construct(
        private readonly MailerInterface $mailer,
    ) {
    }

    public function send(): Response
    {
        $this->mailer->send(
            (new Email())
                ->from('Acme <onboarding@yourdomain.com>')
                ->to('delivered@example.com')
                ->subject('Hello world')
                ->html('<strong>it works!</strong>')
        );

        return new Response('Email sent!');
    }
}
```

Learn more about sending emails in [Symfony's Mailer documentation](https://symfony.com/doc/current/mailer.html#creating-sending-messages).

## 4. Using the Lettr client directly

For Lettr-specific features (templates, metadata, tracking options), inject the Lettr client:

```php
use Lettr\LettrClient;

public function __construct(
    private readonly LettrClient $lettr,
) {}

public function sendWithTemplate(): Response
{
    $this->lettr->emails->send([
        'from'    => 'hello@yourdomain.com',
        'to'      => ['user@example.com'],
        'subject' => 'Welcome, {{first_name}}!',
        'template_slug' => 'welcome-email',
        'substitution_data' => [
            'first_name' => 'John',
            'company'    => 'Acme Inc',
        ],
    ]);

    return new Response('Email sent!');
}
```

## 5. Try it yourself

<Card title="Symfony bundle on GitHub" icon="arrow-up-right-from-square" href="https://github.com/lettr-com/lettr-symfony">
  See the full source and examples.
</Card>

<Card title="PHP quickstart" icon="file-code" href="/quickstart/php/introduction">
  General PHP and Lettr overview.
</Card>
